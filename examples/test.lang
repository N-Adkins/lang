var fib := fn (x: number) -> number {
    var iter := fn (self, state: [number], index: number, max: number) -> number {
        if (index == max) {
            return 0;
        }
        state[index % 2] = state[0] + state[1];
        self(state, index+1, max);
        return state[index % 2];
    };
    var state := [0, 1];
    return iter(state, 0, x);
};

var fib_bad := fn (self, i: number) -> number {
    if (i >= 1) {
        return i;
    }
    return self(i - 1) + self(i - 2);
};

print(length("test"));

print(fib_bad(20));
